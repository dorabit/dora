
import fs from "fs";
import path from "path";

class DevInfo {
  constructor() {
    this.name = "المطور";
    this.author = "حمودي سان 🇸🇩";
    this.cooldowns = 5;
    this.description = "عرض معلومات المطور والبوت";
    this.role = "member";
    this.aliases = ["developer", "dev", "مطور"];
  }

  async execute({ api, event }) {
    const botName = "snforBot";
    const devName = "Dora | حمودي سان 🇸🇩";
    const facebookLink = "https://www.facebook.com/babasnfor80";
    const loveMessage = "💖 دورا تحبكم سنافري 💖";

    const msg = `🤖 اسم البوت: ${botName}\n👑 المطور: ${devName}\n🌐 فيسبوك: ${facebookLink}\n\n${loveMessage}`;

    // مسار الصورة داخل مجلد commands/assets
    const imgPath = path.join(process.cwd(), "commands", "assets", "dora.jpg");

    if (!fs.existsSync(imgPath)) {
      return api.sendMessage(
        "❌ صورة دورا غير موجودة! الرجاء وضعها في commands/assets باسم dora.jpg",
        event.threadID,
        event.messageID
      );
    }

    // إرسال الرسالة مع الصورة
    api.sendMessage(
      {
        body: msg,
        attachment: fs.createReadStream(imgPath)
      },
      event.threadID,
      event.messageID
    );
  }
}

export default new DevInfo();
